<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MDM SYSTEM 'MDM.DTD'>

<!-- This is a stripped-down version -->
<MDM>
    <SeriesName>CMASI</SeriesName>
    <Namespace>afrl/cmasi</Namespace>
    <Version>3</Version>

    <EnumList>
        <!-- Describes waypoint modes -->
        <Enum Name="NavigationMode">
            <!-- standard waypoint following mode -->
            <Entry Name="Waypoint" Value="0"/>
            <!-- loiter mode, vehicle in constant orbit -->
            <Entry Name="Loiter" Value="1"/>
            <!-- flight director, vehicle following specific heading and spedd commands without regard to waypoints -->
            <Entry Name="FlightDirector" Value="2"/>
            <!-- track target, vehicle adjusts path to maintain current target track -->
            <Entry Name="TargetTrack" Value="3"/>
            <!-- follow leader, vehicle path is maintained to remain in formation with a leader -->
            <Entry Name="FollowLeader" Value="4"/>
            <!-- lost comm, vehicle is out of comm range and should be executing lost-comm behavior -->
            <Entry Name="LostComm" Value="5"/>
        </Enum>
        <!-- Describes automation service status types -->
        <Enum Name="ServiceStatusType">
            <!-- informational note from automation service -->
            <Entry Name="Information" Value="0"/>
            <!-- warning from automation service -->
            <Entry Name="Warning" Value="1"/>
            <!-- error from automation service -->
            <Entry Name="Error" Value="2"/>
        </Enum>
    </EnumList>

    <StructList>
        
        <!-- A container for key/value pairs.  Keys and values can be any valid string. -->
        <Struct Name="KeyValuePair">
            <!-- A key (name) for the property -->
            <Field Name="Key" Type="string"/>
            <!-- A value for the property -->
            <Field Name="Value" Type="string"/>
        </Struct>

        <!--
         The base class for all task requests passed to the automation service.  Task requests are not assigned to a specific vehicle, but
         allow the automation service to determine the best vehicle to complete the task.
         -->
        <Struct Name="Task">
            <!-- A unique identifier for this task. -->
            <Field Name="TaskID" Type="int64" Units="None" />
            
            <!-- An optional text string for the task. This is not necesarily unique,
             and is included for information only. TaskID should be used to uniquely
             identify tasks. -->
            <Field Name="Label" Type="string" />
            
            <!-- A list of entity IDs that are eligible to accomplish this task.  If the list is empty, then it is
             assumed all entities are eligible. -->
            <Field Name="EligibleEntities" Type="int64[]" MaxArrayLength="32" Units="None" />
            
            <!--
             If a task is to be repeatedly done, this field indicates how often.
             A value of zero means the task is complete on the first pass.
             -->
            <Field Name="RevisitRate" Type="real32" Units="sec" Default="0"/>
            
            <!-- An optional text string for automation service task parameters. -->
            <Field Name="Parameters" Type="KeyValuePair[]" MaxArrayLength="8" />
            
            <!-- The priority value for this task.  Priority is a relative value of this task compared to other tasks in the scenario.  This
             field should be limited to the range[0..100], 100 being the highest level of priority.  The exact interpretation
             priority may vary depending on algorithm implementation. -->
            <Field Name="Priority" Type="byte" Default="0"/>
            
            <!-- Indicates whether this task <i><b>must</b></i> be executed as part of a mission plan.  -->
            <Field Name="Required" Type="bool" Default="true"/>
            
        </Struct>
        

        <!--
            Provides information regarding automation service compuation percent complete.  The automation service should send this when the computation of a
            mission plan may take more than a few seconds, or when an error occurs (such as the inability to create one or more
            mission commands given the task set)
        -->
        <Struct Name="ServiceStatus">

            <!-- The estimated percentage completed for an automation process. -->
            <Field Name="PercentComplete" Type="real32" />

            <!-- Status from the automation service to the simulation regarding errors or conditions. -->
            <Field Name="Info" Type="KeyValuePair[]" MaxArrayLength="8" />

            <!--
                Describes the type of message conveyed. <br/>
                Information.  Used to note normal progress updates <br/>
                Warning.  Notes non-fatal problem(s) in data or processing <br/>
                Error.  Notes fatal problem(s) <br/>
            -->
            <Field Name="StatusType" Type="ServiceStatusType"/>
        </Struct>

    </StructList>
</MDM>




